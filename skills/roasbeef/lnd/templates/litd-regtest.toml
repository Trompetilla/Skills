# Lightning Terminal (litd) Configuration — Regtest with bitcoind
#
# Flat config file for litd on regtest. Uses bitcoind backend instead of
# neutrino. Uses litd's global network= flag (see litd.conf.template header).

# --- litd settings ---

lnd-mode=integrated
network=regtest
httpslisten=0.0.0.0:8443
enablerest=true
uipassword=agent-litd-password

# Disable litd's autopilot server (session management) — no public
# autopilot server exists for regtest.
autopilot.disable=true

# --- lnd settings ---

lnd.alias=litd-agent
lnd.debuglevel=debug

lnd.listen=0.0.0.0:9735
lnd.rpclisten=0.0.0.0:10009
lnd.restlisten=0.0.0.0:8080
lnd.tlsextraip=0.0.0.0

# TLS: include Docker service and container names so other containers
# (e.g. aperture, watch-only node) can verify the cert when connecting
# by hostname.
lnd.tlsextradomain=litd

lnd.wallet-unlock-password-file=/root/.lnd/wallet-password.txt
lnd.wallet-unlock-allow-create=true

lnd.maxpendingchannels=1
lnd.minchansize=20000

lnd.bitcoin.active=true
lnd.bitcoin.node=bitcoind

lnd.bitcoin.defaultchanconfs=1
lnd.bitcoin.basefee=1000
lnd.bitcoin.feerate=1
lnd.bitcoin.timelockdelta=80

# bitcoind connection (container name — works both within compose and for
# containers joining the network externally via docker network connect).
lnd.bitcoind.rpchost=litd-bitcoind:18443
lnd.bitcoind.rpcuser=devuser
lnd.bitcoind.rpcpass=devpass
lnd.bitcoind.zmqpubrawblock=tcp://litd-bitcoind:28332
lnd.bitcoind.zmqpubrawtx=tcp://litd-bitcoind:28333

lnd.db.backend=sqlite

lnd.autopilot.active=false
lnd.tor.active=false

# Allow self-payments so a single-node regtest setup can pay L402 invoices
# generated by aperture connected to the same lnd instance.
lnd.allow-circular-route=true
